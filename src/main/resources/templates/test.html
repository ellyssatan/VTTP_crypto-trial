<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOP MARKET CAP FULL DATA</title>
    <style>
        table, td {
            padding: 10px;
            border: 1px solid black;
            border-collapse: collapse;
        }


        .row {
            display: flex;
        }
        
        .column {
            flex: auto;
        }

    </style>
</head>
<body>
    <form action="/account/crypto" method="POST">
        <h1><span data-th-text="${user}"></span>'s Cryptocurrency Dashboard</h1>

        <h1>
            Top <span data-th-text="${number}"></span> List of Cryptocurrencies
        </h1>
        LIMIT:
        <input type="text" name="number" size="20">

        SYMBOL:
        <input type="text" name="sym" size="20">

        <button type="submit">Retrieve Results</button>
    </form>
    <br><br>
    <div>
        <table>
            <tr>
                <td>Rank</td>
                <td>Asset</td>
                <td>Price</td>
                <td>Market Cap</td>
                <td>Volume 24 Hours</td>
                <td>Open Day</td>
                <td>High Day</td>
                <td>Low Day</td>
                <td>Change PCT Day</td>
                <td>Change PCT Hour</td>
                <td>Circulating Supply</td>
            </tr>
            
            <tr data-th-each="c : ${list}">
                <td>
                    <span data-th-text="${c.rank}"></span>
                </td>
                <td>
                    <span data-th-text="${c.asset}"></span>
                </td>
                <td>
                    <span data-th-text="${c.price}"></span> 
                </td>
                <td>
                    <span data-th-text="${c.mktCap}"></span> 
                </td>
                <td>
                    <span data-th-text="${c.volume24}"></span> 
                </td>
                <td>
                    <span data-th-text="${c.openDay}"></span> 
                </td>
                <td>
                    <span data-th-text="${c.highDay}"></span> 
                </td>
                <td>
                    <span data-th-text="${c.lowDay}"></span> 
                </td>
                <td>
                    <span data-th-text="${c.changePCTDay}"></span> 
                </td> 
                <td>
                    <span data-th-text="${c.changePCTHour}"></span> 
                </td> 
                <td>
                    <span data-th-text="${c.cirSupply}"></span> 
                </td> 
            </tr>
        </table>
    </div>
    
    <form action="/account/tsym" method="GET">
        <h1>Cryptocurrency</h1>
        Cryptocurrency:
        <input type="text" name="fsym" size="20" placeholder="Cryptocurrency name">
        Ticker Symbol:
        <input type="text" name="tsyms" size="20" placeholder="Ticker">
        <button type="submit">GET</button>    
    </form>


    <div>
        Price:
        <span data-th-text="${price}"></span>
    </div>
    

    <h2>Add to Watchlist</h2>
    <form action="/account/watchlist" method="POST">
        Add to Watchlist (in USD):
        <input type="text" name="fsyms" placeholder="Ticker Symbol">
        <button type="submit">Add</button>
    </form>

    
    <div>
        Watchlist
        <span data-th-text="${contents}"></span>
    </div>
                
    <table>
        <tr>
            <td>Name</td>
            <td>Price</td>
            <td>Market Cap</td>
            <td>Volume 24 Hours</td>
            <td>Open Day</td>
            <td>High Day</td>
            <td>Low Day</td>
            <td>Change PCT Day</td>
            <td>Change PCT Hour</td>
            <td>Circulating Supply</td>
        </tr>
        
        <tr data-th-each="c : ${watchlist}">
            <td>
                <span data-th-text="${c.name}"></span>
            </td>
            <td>
                <span data-th-text="${c.price}"></span> 
            </td>
            <td>
                <span data-th-text="${c.mktCap}"></span> 
            </td>
            <td>
                <span data-th-text="${c.volume24}"></span> 
            </td>
            <td>
                <span data-th-text="${c.openDay}"></span> 
            </td>
            <td>
                <span data-th-text="${c.highDay}"></span> 
            </td>
            <td>
                <span data-th-text="${c.lowDay}"></span> 
            </td>
            <td>
                <span data-th-text="${c.changePCTDay}"></span> 
            </td>
            <td>
                <span data-th-text="${c.changePCTHour}"></span> 
            </td>
            <td>
                <span data-th-text="${c.cirSupply}"></span> 
            </td> 
        </tr>
    </table>

    <h1>News Feed</h1>
    <form action="/account/news" method="POST">
        <button type="submit">GET NEWS BITCH</button>
    </form>

    <div>
        <table style="max-width:300px;">
            <tr>
                <td>Rank</td>
                <td>Image</td>
                <td>Title</td>
                <td>URL</td>
                <td>Source</td>
                <td>Body</td>
                <td>Tags</td>
                <td>Categories</td>
            </tr>
            
            <tr data-th-each="n : ${newsList}">
                <td>
                    <span data-th-text="${n.rank}"></span>
                </td>
                <td>
                    <img data-th-src="${n.imageUrl}" width="100px">
                </td>
                
                <td>
                    <span data-th-text="${n.title}"></span> 
                </td>
                <td>
                    <a data-th-href="${n.url}"><span data-th-text="${n.url}"></span></a>
                    <!-- <span data-th-text="${n.url}"></span>  -->
                </td>
                <td>
                    <span data-th-text="${n.source}"></span> 
                </td>
                <td>
                    <span data-th-text="${n.body}"></span> 
                </td>
                <td>
                    <!-- <span data-th-text="${n.tags}"></span>  -->
                    <ul>
                        <li data-th-each="l : ${n.tags}">
                            <span data-th-text="${l}"></span> 
                        </li>
                    </ul>
                </td>
                <td>
                    <!-- <span data-th-text="${n.categories}"></span>  -->
                    <ul>
                        <li data-th-each="c : ${n.categories}">
                            <span data-th-text="${c}"></span> 
                        </li>
                    </ul>
                </td>
            </tr>
        </table>
    </div>
</body>
</html>